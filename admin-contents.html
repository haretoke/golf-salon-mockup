<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-touch-fullscreen" content="yes" />
    <title>コンテンツ管理 - Golf Salon Admin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&family=Noto+Serif+JP:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script>
      // Tailwind v4 設定の動的読み込み
      async function loadTailwindConfig() {
        try {
          const response = await fetch("css/tailwind-v4-config.css");
          const cssContent = await response.text();

          // <style type="text/tailwindcss">タグを作成
          const styleElement = document.createElement("style");
          styleElement.type = "text/tailwindcss";
          styleElement.textContent = cssContent;

          // headに挿入
          document.head.appendChild(styleElement);
        } catch (error) {
          console.error("Tailwind設定の読み込みに失敗しました:", error);
        }
      }

      // DOMContentLoadedより前に実行
      loadTailwindConfig();
    </script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
      /* モバイル環境でのビューポート高さ問題の解決 */
      :root {
        --vh: 1vh;
        --safe-area-inset-top: env(safe-area-inset-top, 0px);
        --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
      }

      /* iOS Safari のビューポート問題を解決 */
      @supports (-webkit-touch-callout: none) {
        .full-height {
          height: calc(var(--vh, 1vh) * 100);
        }
      }

      /* Android Chrome のビューポート問題を解決 */
      @supports not (-webkit-touch-callout: none) {
        .full-height {
          height: 100vh;
          height: calc(var(--vh, 1vh) * 100);
        }
      }

      /* モバイルでのスムーズスクロール対策 */
      @media (max-width: 768px) {
        .overflow-y-auto {
          -webkit-overflow-scrolling: touch;
          overscroll-behavior-y: contain;
        }

        /* モバイルでのposition: fixed要素の底部余白対策 */
        .mobile-safe-bottom {
          padding-bottom: calc(1rem + var(--safe-area-inset-bottom, 0px));
        }
      }

      /* スライダー用のスタイル */
      .content-slider {
        display: flex;
        transition: transform 0.3s ease;
      }
      .content-section {
        flex: 0 0 100%;
      }

      /* コンテンツ編集セクションの表示制御 */
      .content-edit-section {
        display: none !important;
      }

      .content-edit-section.active {
        display: block !important;
      }

      /* 初期アップロードエリア */
      .image-upload-placeholder {
        aspect-ratio: 16/9;
        border: 2px dashed #e0e0e0;
        border-radius: 0.5rem;
        background-color: #f5f5f5;
        transition: all 0.3s ease;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .image-upload-placeholder:hover {
        border-color: #2c5530;
        background-color: rgba(44, 85, 48, 0.05);
      }

      /* タブの選択状態 */
      .content-tab.active {
        border-color: #2c5530 !important;
        color: #2c5530 !important;
        background-color: #2c5530 !important;
        color: white !important;
      }

      .content-tab.active:hover {
        background-color: #1a3a1d !important;
        border-color: #1a3a1d !important;
      }

      /* アクティブタブの下線（admin.cssに合わせたスタイル） */
      .content-tab {
        position: relative;
      }

      .content-tab.active::after {
        content: "";
        position: absolute;
        bottom: -2px;
        left: 50%;
        transform: translateX(-50%);
        width: 60%;
        height: 5px;
        background: #d4af37;
        border-radius: 2px;
      }

      /* コンテンツフィルタースタイル */
      .content-filters {
        background-color: white;
        padding: 1rem;
        border-bottom: 1px solid #e0e0e0;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
        flex-wrap: wrap;
      }

      @media (min-width: 1024px) {
        .content-filters {
          padding: 1.5rem 2rem;
          flex-direction: row;
          justify-content: space-between;
          align-items: center;
          gap: 2rem;
        }
      }

      .content-tabs {
        display: flex;
        gap: 0.5rem;
        justify-content: center;
      }

      @media (min-width: 1024px) {
        .content-tabs {
          width: auto;
          justify-content: flex-start;
        }
      }

      .content-tab {
        padding: 0.875rem 1.5rem;
        background: none;
        border: 2px solid #e0e0e0;
        color: #666666;
        border-radius: 0.375rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .content-tab:hover {
        border-color: #2c5530;
        color: #2c5530;
      }

      .filter-controls {
        display: flex;
        align-items: center;
        gap: 1rem;
        justify-content: space-between;
      }

      @media (min-width: 1024px) {
        .filter-controls {
          width: auto;
          justify-content: flex-start;
        }
      }

      /* フィルターコントロール */
      .filter-select {
        padding: 0.75rem 1rem;
        border: 2px solid #e0e0e0;
        border-radius: 0.375rem;
        background-color: white;
        color: #1a1a1a;
        font-size: 0.875rem;
        cursor: pointer;
        transition: all 0.2s;
      }

      .filter-select:focus {
        outline: none;
        border-color: #2c5530;
        box-shadow: 0 0 0 3px rgba(44, 85, 48, 0.1);
      }

      /* ページネーションスタイル */
      .pagination-container {
        background-color: white;
        border-top: 1px solid #e0e0e0;
        padding: 2rem;
      }

      .pagination {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 0.5rem;
      }

      .page-btn {
        width: 40px;
        height: 40px;
        border: 2px solid #e0e0e0;
        background-color: white;
        color: #666666;
        border-radius: 0.375rem;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 500;
      }

      .page-btn:hover:not(:disabled) {
        border-color: #2c5530;
        color: #2c5530;
        background-color: #f0fdf4;
      }

      .page-btn.active {
        border-color: #2c5530;
        background-color: #2c5530;
        color: white;
      }

      .page-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .page-btn i {
        width: 16px;
        height: 16px;
      }

      /* ヘッダースタイル */
      .admin-header {
        background-color: white;
        padding: 1.5rem 2rem;
        border-bottom: 1px solid #e0e0e0;
        position: sticky;
        top: 0;
        z-index: 20;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .header-left {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .header-right {
        display: flex;
        align-items: center;
        gap: 1rem;
        flex-shrink: 0;
      }

      .sidebar-toggle {
        width: 40px;
        height: 40px;
        border: none;
        background: none;
        cursor: pointer;
        border-radius: 0.375rem;
        align-items: center;
        justify-content: center;
        color: #1a1a1a;
        flex-shrink: 0;
      }

      .sidebar-toggle i {
        width: 20px;
        height: 20px;
        display: block;
      }

      .sidebar-toggle:hover {
        background-color: #f3f4f6;
      }

      .page-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: #1a3a1d;
        margin: 0;
      }

      .search-box i,
      .search-box svg {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        width: 16px;
        height: 16px;
        color: #6b7280;
        display: block;
        flex-shrink: 0;
        pointer-events: none;
      }

      .search-box input {
        padding: 0.625rem 2.5rem;
        border: 1px solid #d1d5db;
        border-radius: 0.375rem;
        font-size: 0.875rem;
        background-color: white;
        transition: all 0.2s;
        line-height: 1.5;
        height: auto;
      }

      .search-box input:focus {
        outline: none;
        border-color: #2c5530;
        box-shadow: 0 0 0 3px rgba(44, 85, 48, 0.1);
      }

      /* 検索クリアボタン */
      .search-clear {
        position: absolute;
        right: 0.75rem;
        top: 50%;
        transform: translateY(-50%);
        width: 20px;
        height: 20px;
        padding: 0;
        background: none;
        border: none;
        cursor: pointer;
        display: none;
        align-items: center;
        justify-content: center;
        color: #6b7280;
        transition: all 0.2s;
        z-index: 2;
      }

      .search-clear:hover {
        color: #1a1a1a;
      }

      .search-clear i {
        width: 16px;
        height: 16px;
      }

      .search-box.has-value .search-clear {
        display: flex;
      }

      @media (max-width: 768px) {
        .admin-header {
          padding: 1rem;
          flex-direction: column;
          gap: 1rem;
        }
      }

      @media (max-width: 768px) {
        .search-box {
          min-width: 200px;
        }

        .search-box i,
        .search-box svg {
          width: 14px;
          height: 14px;
          left: 0.75rem;
        }

        .search-clear {
          right: 0.5rem;
          width: 18px;
          height: 18px;
        }

        .search-clear i {
          width: 14px;
          height: 14px;
        }

        .btn {
          font-size: 0.875rem;
          padding: 0.625rem 1rem;
          gap: 0.375rem;
        }

        .btn i {
          width: 14px;
          height: 14px;
        }
      }

      /* 編集セクションの初期表示制御 */
      #editSection-tweet,
      #editSection-image,
      #editSection-video {
        display: none;
      }

      /* 設定リストの初期表示制御 */
      #tweetSettingsList,
      #settingsList-image,
      #settingsList-video {
        display: none;
      }

      /* 削除セクションの初期表示 */
      .delete-button-section {
        margin-top: 2rem;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      /* 画像グリッドレイアウト */
      .edit-screen .image-grid {
        display: grid;
        gap: 0.5rem;
        background-color: #f5f5f5;
        position: relative;
        min-height: 200px;
        max-width: 600px;
        margin: 0 auto;
      }

      /* 1枚の場合：画像|追加| */
      .edit-screen .image-grid.count-1 {
        grid-template-columns: 1fr 1fr;
        grid-template-rows: 1fr;
        aspect-ratio: 2/1;
      }

      /* 2枚の場合：2×1グリッドで画像2つを縦並び、追加ボタンは右下 */
      .edit-screen .image-grid.count-2 {
        grid-template-columns: 1fr 1fr;
        grid-template-rows: 1fr;
        aspect-ratio: 2/1;
      }

      .edit-screen .image-grid.count-2 .image-add-item {
        grid-column: 2;
        grid-row: 1;
      }

      /* 3-4枚の場合：左側メイン、右側サブ+追加の縦並び */
      .edit-screen .image-grid.count-3,
      .edit-screen .image-grid.count-4 {
        grid-template-columns: 2fr 1fr;
        grid-template-rows: 1fr 1fr;
      }

      .edit-screen .image-grid.count-3 {
        aspect-ratio: 3/2;
      }

      .edit-screen .image-grid.count-4 {
        grid-template-rows: 1fr 1fr 1fr;
        aspect-ratio: 3/3;
      }

      .edit-screen .image-grid.count-3 .image-item:first-child,
      .edit-screen .image-grid.count-4 .image-item:first-child {
        grid-row: 1 / -1;
      }

      /* 5-6枚の場合：3×3グリッドで1枚目を2×2に */
      .edit-screen .image-grid.count-5,
      .edit-screen .image-grid.count-6 {
        grid-template-columns: 1fr 1fr 1fr;
        grid-template-rows: 1fr 1fr 1fr;
        aspect-ratio: 1/1;
      }

      .edit-screen .image-grid.count-5 .image-item:first-child,
      .edit-screen .image-grid.count-6 .image-item:first-child {
        grid-column: 1 / 3;
        grid-row: 1 / 3;
      }

      /* 追加ボタンと最大枚数通知の配置 */
      .edit-screen .image-grid.count-5 .image-add-item,
      .edit-screen .image-grid.count-5 .image-full-item {
        grid-column: 2 / 4;
        grid-row: 3 / 4;
      }

      .edit-screen .image-grid.count-6 .image-add-item,
      .edit-screen .image-grid.count-6 .image-full-item {
        grid-column: 3 / 4;
        grid-row: 3 / 4;
      }

      /* 画像アイテム */
      .edit-screen .image-item {
        position: relative;
        background-color: #e0e0e0;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .edit-screen .image-item:hover {
        transform: scale(1.02);
      }

      .edit-screen .image-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        user-select: none;
        -webkit-user-drag: none;
      }

      .edit-screen .image-item-btn {
        position: absolute;
        width: 32px;
        height: 32px;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
      }

      .edit-screen .image-remove-btn {
        top: 0.5rem;
        right: 0.5rem;
      }

      .edit-screen .image-remove-btn:hover {
        background: rgba(220, 38, 38, 0.8);
      }

      .edit-screen .image-preview-btn {
        bottom: 0.5rem;
        right: 0.5rem;
      }

      .edit-screen .image-preview-btn:hover {
        background: rgba(59, 130, 246, 0.8);
      }

      /* 画像追加ボタン */
      .edit-screen .image-add-button {
        position: absolute;
        bottom: 0.5rem;
        right: 0.5rem;
        z-index: 10;
        background: rgba(44, 85, 48, 0.9);
        color: white;
        border: none;
        border-radius: 2rem;
        padding: 0.75rem 1rem;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.875rem;
        font-weight: 500;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .edit-screen .image-add-button:hover {
        background: rgba(26, 58, 29, 0.9);
        transform: translateY(-2px);
        box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.2);
      }

      .edit-screen .image-add-button i {
        width: 16px;
        height: 16px;
        color: #d4af37;
      }

      .edit-screen .image-add-button span {
        font-size: 0.9rem;
        color: #666666;
        font-weight: 500;
      }

      /* ドラッグ状態 */
      .edit-screen .image-item.dragging {
        opacity: 0.5;
        transform: rotate(5deg) scale(0.95);
      }

      .edit-screen .image-grid.drag-over {
        border: 2px dashed #2c5530;
        background-color: rgba(44, 85, 48, 0.05);
      }

      /* モバイル対応 */
      @media (max-width: 768px) {
        .edit-screen .image-grid {
          gap: 0.25rem;
          min-height: 150px;
          max-width: 100%;
        }

        .edit-screen .image-item-btn {
          width: 28px;
          height: 28px;
        }

        .edit-screen .image-item-btn i {
          width: 14px;
          height: 14px;
        }

        .edit-screen .image-add-button {
          bottom: 0.25rem;
          right: 0.25rem;
          padding: 0.5rem 0.75rem;
          font-size: 0.75rem;
        }
      }

      /* image-add-content */
      .edit-screen .image-add-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        color: #666666;
      }

      .edit-screen .image-add-content i {
        width: 24px;
        height: 24px;
      }

      .edit-screen .image-add-content span {
        font-size: 0.9rem;
        font-weight: 500;
      }

      /* image-item-overlay */
      .edit-screen .image-item-overlay {
        position: absolute;
        top: 0;
        left: 0;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .edit-screen .image-item:hover .image-item-overlay {
        opacity: 1;
      }

      /* image-item-btn 基本スタイル */
      .edit-screen .image-item-btn {
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
      }

      .edit-screen .image-item-btn.delete {
        background-color: rgba(239, 68, 68, 0.9);
        color: white;
      }

      .edit-screen .image-item-btn.delete:hover {
        background-color: #dc2626;
      }

      .edit-screen .image-item-btn i {
        width: 16px;
        height: 16px;
      }

      /* btn-preview (中央の主要アクション) */
      .edit-screen .btn-preview {
        width: 48px;
        height: 48px;
        background-color: rgba(255, 255, 255, 0.95);
        color: #2c5530;
        border-radius: 50%;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      }

      .edit-screen .btn-preview:hover {
        background-color: white;
        transform: scale(1.1);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      }

      /* btn-delete (右上隅の破壊的アクション) */
      .edit-screen .btn-delete {
        position: absolute;
        top: 8px;
        right: 8px;
        width: 28px;
        height: 28px;
        background-color: rgba(239, 68, 68, 0.9);
        color: white;
        border-radius: 50%;
        font-size: 0.75rem;
      }

      .edit-screen .btn-delete:hover {
        background-color: #dc2626;
        transform: scale(1.05);
      }

      /* グリッド内追加ボタン */
      .edit-screen .image-add-item {
        background-color: #f5f5f5;
        border: 2px dashed #e0e0e0;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .edit-screen .image-add-item:hover {
        border-color: #2c5530;
        background-color: rgba(44, 85, 48, 0.05);
        transform: none;
      }

      /* image-full-content関連スタイル */
      .edit-screen .image-full-item {
        background-color: rgba(44, 85, 48, 0.1);
        border: 2px solid #2c5530;
        cursor: default;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .edit-screen .image-full-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        color: #2c5530;
      }

      .edit-screen .image-full-content i {
        width: 24px;
        height: 24px;
      }

      .edit-screen .image-full-content span {
        font-size: 0.9rem;
        font-weight: 600;
      }

      .edit-screen .image-full-note {
        font-size: 0.75rem;
        opacity: 0.8;
        text-align: center;
        line-height: 1.2;
        margin-top: 0.25rem;
      }

      .edit-screen .image-count {
        font-size: 0.75rem;
        color: #666666;
        opacity: 0.8;
        margin-top: 0.25rem;
      }

      /* モバイル対応 for image styles */
      @media (max-width: 768px) {
        .edit-screen .image-add-content i {
          width: 20px;
          height: 20px;
        }

        .edit-screen .image-add-content span {
          font-size: 0.8rem;
        }

        .edit-screen .image-item-btn {
          width: 28px;
          height: 28px;
        }

        .edit-screen .image-item-btn i {
          width: 14px;
          height: 14px;
        }

        .edit-screen .image-full-content i {
          width: 20px;
          height: 20px;
        }

        .edit-screen .image-full-content span {
          font-size: 0.8rem;
        }

        .edit-screen .image-count {
          font-size: 0.7rem;
        }
      }

      /* ============================================
         新規作成アクションシート（SwiftUI風）
      ============================================ */
      .action-sheet-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        height: calc(var(--vh, 1vh) * 100);
        background-color: rgba(0, 0, 0, 0.4);
        display: none;
        justify-content: center;
        align-items: flex-end;
        opacity: 0;
        transition: opacity 0.25s cubic-bezier(0.16, 1, 0.3, 1);
        backdrop-filter: blur(2px);
      }

      .action-sheet-overlay.show {
        display: flex;
        opacity: 1;
      }

      .action-sheet {
        max-width: 500px;
        margin: 0 1rem 1rem 1rem;
        transform: translateY(100%);
        transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      }

      .action-sheet-overlay.show .action-sheet {
        transform: translateY(0);
      }

      .action-sheet-content {
        background-color: white;
        border-radius: 0.75rem;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        margin-bottom: 0.5rem;
      }

      .action-sheet-header {
        padding: 1rem 1.5rem 0.5rem;
        text-align: center;
        border-bottom: 1px solid #f5f5f5;
      }

      .action-sheet-header h3 {
        margin: 0;
        font-size: 0.85rem;
        font-weight: 600;
        color: #666666;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .action-sheet-buttons {
        padding: 0;
      }

      .action-button {
        padding: 1.25rem 1.5rem;
        border: none;
        background: none;
        display: flex;
        align-items: center;
        gap: 1rem;
        cursor: pointer;
        border-bottom: 1px solid #f5f5f5;
        transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
        font-size: 1rem;
        transform: scale(1);
        font-weight: 500;
      }

      .action-button:last-child {
        border-bottom: none;
      }

      .action-button:hover {
        background-color: #f5f5f5;
        transform: scale(0.98);
      }

      .action-button:active {
        transform: scale(0.95);
        transition: transform 0.1s ease;
        background-color: #e0e0e0;
      }

      .action-button i {
        width: 24px;
        height: 24px;
        color: #2c5530;
        flex-shrink: 0;
      }

      .action-button span {
        flex: 1;
        text-align: left;
        color: #1a3a1d;
      }

      .action-sheet-cancel {
        background-color: white;
        border-radius: 0.75rem;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
      }

      .cancel-button {
        padding: 1.25rem 1.5rem;
        border: none;
        background: none;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
        color: #2c5530;
        transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
        transform: scale(1);
        transition: background-color 0.2s ease;
      }

      .cancel-button:hover {
        background-color: #f5f5f5;
        transform: scale(0.98);
      }

      .cancel-button:active {
        transform: scale(0.95);
        transition: transform 0.1s ease;
        background-color: #e0e0e0;
      }

      /* ============================================
         画像プレビューモーダル
      ============================================ */
      .image-preview-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        height: calc(var(--vh, 1vh) * 100);
        background-color: rgba(0, 0, 0, 0.95);
        display: none;
        align-items: center;
        justify-content: center;
      }

      .preview-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        cursor: pointer;
      }

      .preview-container {
        position: relative;
        max-width: 90vw;
        max-height: 90vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .preview-close {
        position: absolute;
        top: 1rem;
        right: 1rem;
        width: 40px;
        height: 40px;
        background-color: rgba(255, 255, 255, 0.9);
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10;
        transition: all 0.3s ease;
      }

      .preview-close:hover {
        background-color: white;
        transform: scale(1.1);
      }

      .preview-close i {
        width: 20px;
        height: 20px;
        color: black;
      }

      .preview-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 50px;
        height: 50px;
        background-color: rgba(255, 255, 255, 0.9);
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10;
        transition: all 0.3s ease;
      }

      .preview-nav:hover:not(:disabled) {
        background-color: white;
        transform: translateY(-50%) scale(1.1);
      }

      .preview-nav:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .preview-nav.prev {
        left: 2rem;
      }

      .preview-nav.next {
        right: 2rem;
      }

      .preview-nav i {
        width: 24px;
        height: 24px;
        color: black;
      }

      .preview-image-container {
        max-height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .preview-image {
        max-height: 100%;
        object-fit: contain;
        border-radius: 0.5rem;
      }

      .preview-counter {
        position: absolute;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%);
        background-color: rgba(255, 255, 255, 0.9);
        color: black;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        font-size: 0.9rem;
        font-weight: 500;
        z-index: 10;
      }

      /* プレビューモーダルのモバイル対応 */
      @media (max-width: 768px) {
        .preview-close {
          top: 0.5rem;
          right: 0.5rem;
          width: 36px;
          height: 36px;
        }

        .preview-nav {
          width: 44px;
          height: 44px;
        }

        .preview-nav.prev {
          left: 1rem;
        }

        .preview-nav.next {
          right: 1rem;
        }

        .preview-counter {
          bottom: 1rem;
          font-size: 0.8rem;
          padding: 0.375rem 0.75rem;
        }
      }

      /* 全体的なLucideアイコンの配置修正 */
      [data-lucide] {
        display: inline-block;
        vertical-align: middle;
        line-height: 1;
      }

      /* フレックスコンテナ内のアイコン */
      .flex [data-lucide],
      .inline-flex [data-lucide] {
        flex-shrink: 0;
      }

      /* search-box内のLucideアイコン特有の調整 */
      .search-box [data-lucide="search"] {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        width: 16px;
        height: 16px;
        color: #6b7280;
        pointer-events: none;
        z-index: 1;
      }

      @media (max-width: 768px) {
        .search-box [data-lucide="search"] {
          width: 14px;
          height: 14px;
          left: 0.75rem;
        }
      }

      /* コンテンツカードスタイル */
      .content-card {
        display: flex;
        align-items: flex-start;
        gap: 0.75rem;
        padding: 0.5rem 0;
        width: 100%;
        box-sizing: border-box;
        border: none;
        box-shadow: none;
        background: none;
      }

      .content-card:hover {
        background-color: #f5f5f5;
      }

      /* カードサムネイル */
      .card-thumbnail {
        width: 80px;
        height: 60px;
        flex-shrink: 0;
        border-radius: 0.375rem;
        overflow: hidden;
        background-color: #e5e7eb;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .card-thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
        pointer-events: none;
        touch-action: none;
      }

      .content-card[data-type="image"] .card-thumbnail {
        width: 60px;
        height: 80px;
        background-color: #f5f5f5;
      }

      .content-card[data-type="video"] .card-thumbnail {
        width: 160px;
        height: 90px;
      }

      /* カードコンテンツ */
      .card-content {
        flex: 1;
        padding: 0;
      }

      .content-title {
        font-size: 0.8rem;
        margin-bottom: 0.25rem;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        color: #1a3a1d;
        font-weight: 600;
        line-height: 1.3;
      }

      .content-meta {
        font-size: 0.75rem;
        color: #666666;
      }

      .content-description,
      .tweet-text {
        font-size: 0.75rem;
        margin-bottom: 0.25rem;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        color: #1a1a1a;
        line-height: 1.3;
      }

      /* 画像数バッジ */
      .image-count-badge {
        position: absolute;
        top: 0.25rem;
        right: 0.25rem;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        font-size: 0.625rem;
        padding: 0.125rem 0.25rem;
        border-radius: 0.25rem;
        font-weight: 500;
      }

      /* メタ情報関連 */
      .content-meta-row {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: flex-start;
        gap: 0.5rem;
        margin-bottom: 0.25rem;
      }

      .meta-item {
        display: flex;
        align-items: center;
        gap: 0.375rem;
        font-size: 0.8rem;
        color: #666666;
        white-space: nowrap;
      }

      .meta-item i {
        width: 14px;
        height: 14px;
      }

      .content-status {
        flex-shrink: 0;
        align-self: flex-start;
      }

      /* 動画再生時間 */
      .content-duration {
        position: absolute;
        bottom: 0.5rem;
        right: 0.5rem;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        font-size: 0.75rem;
        font-weight: 500;
      }

      /* サムネイルの相対位置 */
      .card-thumbnail {
        position: relative;
      }

      /* ステータスバッジ */
      .status-badge {
        display: inline-block;
        padding: 0.25rem 0.75rem;
        font-size: 0.75rem;
        font-weight: 500;
      }

      .status-badge.published {
        background-color: #10b981;
        color: white;
      }

      .status-badge.draft {
        background-color: #6b7280;
        color: white;
      }

      .status-badge.scheduled {
        background-color: #f59e0b;
        color: white;
      }

      /* モバイル対応 */
      @media (max-width: 768px) {
        .content-card[data-type="video"] .card-thumbnail {
          width: 45vw;
          height: calc(45vw * 9 / 16);
          min-width: 140px;
          min-height: 79px;
          max-width: 200px;
          max-height: 113px;
        }

        .content-title {
          font-size: 1rem;
        }

        .content-meta-row {
          align-items: flex-start;
          gap: 0.375rem;
        }

        .content-meta {
          margin-bottom: 0;
        }
      }

      /* 編集画面関連 */
      .edit-header {
        background-color: white;
        border-bottom: 1px solid #e0e0e0;
        padding: 1rem 2rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        min-height: 70px;
        position: sticky;
        top: 0;
        z-index: 10;
      }

      .back-btn {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        background: none;
        border: none;
        color: #2c5530;
        font-size: 1rem;
        font-weight: 500;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 0.375rem;
      }

      .back-btn:hover {
        background-color: #f5f5f5;
      }

      .back-btn i {
        width: 20px;
        height: 20px;
      }

      #editTitle {
        font-size: 1.25rem;
        font-weight: 600;
        color: #1a3a1d;
        margin: 0;
        flex: 1;
        text-align: center;
      }

      .edit-actions {
        display: flex;
        gap: 0.75rem;
      }

      .edit-content {
        flex: 1;
        overflow-y: auto;
        padding: 2rem;
      }

      /* モバイルでの編集画面 */
      @media (max-width: 768px) {
        .edit-header {
          padding: 1rem;
        }

        #editTitle {
          font-size: 1.1rem;
        }

        .edit-actions {
          flex-direction: column;
          gap: 0.5rem;
        }

        .edit-content {
          padding: 1rem;
        }

        .back-btn span {
          display: none;
        }
      }

      /* モーダル関連 */
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        height: calc(var(--vh, 1vh) * 100);
        background-color: rgba(0, 0, 0, 0.5);
        display: none;
        justify-content: center;
        align-items: center;
      }

      .modal.show {
        display: flex;
      }

      .modal-content {
        background-color: white;
        border-radius: 0.5rem;
        max-width: 500px;
        width: 90%;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      }

      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1.5rem 2rem;
        border-bottom: 1px solid #e0e0e0;
      }

      .modal-header h3 {
        margin: 0;
        font-size: 1.125rem;
        font-weight: 600;
        color: #1a3a1d;
      }

      .modal-close {
        font-size: 1.5rem;
        cursor: pointer;
        color: #6b7280;
        padding: 0.5rem;
        line-height: 1;
      }

      .modal-close:hover {
        color: #1a1a1a;
      }

      .modal-body {
        padding: 1.5rem 2rem;
      }

      .modal-footer {
        display: flex;
        justify-content: flex-end;
        gap: 0.75rem;
        padding: 1rem 2rem 1.5rem;
        border-top: 1px solid #f3f4f6;
      }

      .delete-warning {
        text-align: center;
      }

      .delete-warning h4 {
        margin: 0.5rem 0;
        font-size: 1.125rem;
        font-weight: 600;
        color: #111827;
      }

      .delete-warning p {
        margin: 0;
        color: #6b7280;
        line-height: 1.5;
      }

      /* アクションシート */
      .action-sheet-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        height: calc(var(--vh, 1vh) * 100);
        background-color: rgba(0, 0, 0, 0.4);
        display: none;
        justify-content: center;
        align-items: flex-end;
        opacity: 0;
        transition: opacity 0.25s cubic-bezier(0.16, 1, 0.3, 1);
        backdrop-filter: blur(2px);
      }

      .action-sheet-overlay.show {
        display: flex;
        opacity: 1;
      }

      .action-sheet {
        max-width: 500px;
        margin: 0 1rem 1rem 1rem;
        transform: translateY(100%);
        transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      }

      .action-sheet-overlay.show .action-sheet {
        transform: translateY(0);
      }

      .action-sheet-content {
        background-color: white;
        border-radius: 0.5rem;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        margin-bottom: 0.5rem;
      }

      .action-sheet-header {
        padding: 1rem 1.5rem 0.5rem;
        text-align: center;
        border-bottom: 1px solid #f5f5f5;
      }

      .action-sheet-header h3 {
        margin: 0;
        font-size: 0.85rem;
        font-weight: 600;
        color: #666666;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .action-sheet-buttons {
        padding: 0;
      }

      .action-button {
        padding: 1.25rem 1.5rem;
        border: none;
        background: none;
        display: flex;
        align-items: center;
        gap: 1rem;
        cursor: pointer;
        transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
        border-bottom: 1px solid #f5f5f5;
        font-size: 1rem;
        font-weight: 500;
        color: #1a3a1d;
      }

      .action-button:last-child {
        border-bottom: none;
      }

      .action-button:hover {
        background-color: #f9fafb;
      }

      .action-button i {
        width: 24px;
        height: 24px;
        color: #2c5530;
      }

      .action-sheet-cancel {
        background-color: white;
        border-radius: 0.5rem;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
      }

      .cancel-button {
        padding: 1.25rem 1.5rem;
        border: none;
        background: none;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
        color: #dc2626;
      }

      .cancel-button:hover {
        background-color: #fef2f2;
      }

      /* 設定詳細画面 */
      .settings-detail-screen {
        position: fixed;
        top: 0;
        right: 0;
        width: 100%;
        height: 100%;
        height: calc(var(--vh, 1vh) * 100);
        transform: translateX(100%);
        transition: transform 0.3s ease;
        display: flex;
        flex-direction: column;
      }

      .settings-detail-screen.show {
        transform: translateX(0);
      }

      .settings-detail-header {
        display: flex;
        align-items: center;
        padding: 1rem;
        border-bottom: 1px solid #e0e0e0;
        background-color: white;
        position: relative;
      }

      .settings-detail-header h2 {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        margin: 0;
        font-size: 1.125rem;
        font-weight: 600;
        color: #1f2937;
      }

      .settings-back-btn {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        background: none;
        border: none;
        color: #2c5530;
        font-size: 1rem;
        font-weight: 500;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 0.375rem;
        position: relative;
        z-index: 1;
      }

      .settings-back-btn:hover {
        background-color: #f3f4f6;
      }

      .settings-detail-content {
        flex: 1;
        overflow-y: auto;
        padding: 1.5rem;
      }

      /* 設定フォーム要素 */
      .settings-form-group {
        margin-bottom: 1.5rem;
      }

      .settings-form-label {
        display: block;
        font-size: 0.875rem;
        font-weight: 500;
        color: #1a1a1a;
        margin-bottom: 0.5rem;
      }

      .settings-form-textarea {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #d1d5db;
        border-radius: 0.375rem;
        font-size: 1rem;
        line-height: 1.5;
        background-color: white;
        resize: vertical;
        min-height: 100px;
      }

      .settings-form-textarea:focus {
        outline: none;
        border-color: #2c5530;
        box-shadow: 0 0 0 3px rgba(44, 85, 48, 0.1);
      }

      .settings-select {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #d1d5db;
        border-radius: 0.375rem;
        font-size: 1rem;
        background-color: white;
        cursor: pointer;
      }

      .settings-select:focus {
        outline: none;
        border-color: #2c5530;
        box-shadow: 0 0 0 3px rgba(44, 85, 48, 0.1);
      }

      .settings-form-input {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #d1d5db;
        border-radius: 0.375rem;
        font-size: 1rem;
        background-color: white;
      }

      .settings-form-input:focus {
        outline: none;
        border-color: #2c5530;
        box-shadow: 0 0 0 3px rgba(44, 85, 48, 0.1);
      }

      /* 公開設定オプション */
      .publish-options {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
      }

      .publish-option {
        padding: 1rem;
        border: 2px solid #e5e7eb;
        border-radius: 0.5rem;
        cursor: pointer;
        transition: all 0.2s ease;
        background-color: white;
      }

      .publish-option:hover {
        border-color: #2c5530;
        background-color: rgba(44, 85, 48, 0.02);
      }

      .publish-option.selected {
        border-color: #2c5530;
        background-color: rgba(44, 85, 48, 0.05);
      }

      .publish-option-title {
        font-size: 1rem;
        font-weight: 600;
        color: #1f2937;
        margin-bottom: 0.25rem;
      }

      .publish-option-desc {
        font-size: 0.875rem;
        color: #6b7280;
        line-height: 1.4;
      }

      /* 設定リスト */
      .settings-list {
        background-color: white;
        border-radius: 0.5rem;
        margin-bottom: 1.5rem;
      }

      .settings-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1.25rem 1.5rem;
        border-bottom: 1px solid #f5f5f5;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      .settings-item:last-child {
        border-bottom: none;
      }

      .settings-item:hover {
        background-color: #f9fafb;
      }

      .settings-item-content {
        flex: 1;
      }

      .settings-item-label {
        font-size: 1rem;
        font-weight: 500;
        color: #1f2937;
        margin-bottom: 0.25rem;
      }

      .settings-item-value {
        font-size: 0.875rem;
        color: #6b7280;
      }

      .settings-item-arrow {
        width: 20px;
        height: 20px;
        color: #9ca3af;
      }

      /* つぶやき編集関連 */
      .tweet-editor-container {
        background-color: white;
        border-radius: 0.5rem;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
      }

      .tweet-editor {
        min-height: 200px;
        padding: 1.5rem;
        border: none;
        outline: none;
        resize: none;
        font-size: 1rem;
        line-height: 1.5;
      }

      .tweet-editor:empty:before {
        content: attr(placeholder);
        color: #9ca3af;
      }

      .tweet-editor-footer {
        display: flex;
        justify-content: flex-end;
        padding: 0.75rem 1.5rem;
        background-color: #f9fafb;
        border-top: 1px solid #e5e7eb;
      }

      .character-count {
        font-size: 0.9rem;
        color: #666666;
        font-weight: 500;
        padding: 0.375rem 0.75rem;
        border-radius: 0.375rem;
        background-color: white;
        border: 1px solid #e0e0e0;
        transition: all 0.3s ease;
        min-width: 60px;
        text-align: center;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .character-count.warning {
        color: #f59e0b;
        background-color: rgba(245, 158, 11, 0.1);
        border-color: rgba(245, 158, 11, 0.3);
        animation: pulse-warning 2s infinite;
      }

      .character-count.error {
        color: #dc2626;
        background-color: rgba(239, 68, 68, 0.1);
        border-color: rgba(239, 68, 68, 0.3);
        animation: pulse-error 1.5s infinite;
      }

      @keyframes pulse-warning {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.02);
        }
      }

      @keyframes pulse-error {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.03);
        }
      }

      /* 画像アップロード関連 */
      .image-upload-placeholder {
        display: flex;
        justify-content: center;
        margin-bottom: 1.5rem;
      }

      .upload-area {
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
        text-align: center;
        padding: 2rem;
      }

      .upload-area i {
        width: 64px;
        height: 64px;
        color: #666666;
      }

      .upload-area span {
        font-size: 1.1rem;
        color: #666666;
        font-weight: 500;
      }

      .upload-hint {
        font-size: 0.9rem;
        color: #666666;
        opacity: 0.8;
        margin: 0;
      }

      /* 画像グリッド */
      .image-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 1rem;
        margin-bottom: 1.5rem;
      }

      .image-add-button {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 120px;
        border: 2px dashed #d1d5db;
        border-radius: 0.5rem;
        cursor: pointer;
        transition: all 0.2s;
        background-color: #f9fafb;
      }

      .image-add-button:hover {
        border-color: #2c5530;
        background-color: #f0fdf4;
      }

      /* 動画サムネイルセクション */
      .video-thumbnail-section {
        width: 100vw;
        position: relative;
        left: 50%;
        right: 50%;
        margin-left: -50vw;
        margin-right: -50vw;
        background-color: white;
      }

      /* 動画サムネイル */
      .video-thumbnail {
        position: relative;
        aspect-ratio: 16/9;
        margin: 0 auto 1.5rem;
        border-radius: 0.5rem;
        background-color: #808080;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.9rem;
        color: white;
      }

      .video-thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .thumbnail-placeholder {
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background-color: #f5f5f5;
        color: #666666;
        gap: 0.5rem;
      }

      .thumbnail-placeholder i {
        width: 48px;
        height: 48px;
        margin-bottom: 0.5rem;
      }

      .thumbnail-overlay {
        position: absolute;
        top: 0.75rem;
        left: 0.75rem;
        background-color: rgba(0, 0, 0, 0.6);
        border-radius: 0.25rem;
        padding: 0.5rem;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 1;
      }

      .thumbnail-overlay:hover {
        background-color: rgba(0, 0, 0, 0.8);
        transform: scale(1.05);
      }

      .thumbnail-overlay i {
        width: 20px;
        height: 20px;
        color: white;
      }

      /* コンテンツタイトルセクション */
      .content-title-section {
        position: relative;
      }

      .title-label {
        position: absolute;
        top: -0.25rem;
        left: 1rem;
        font-size: 0.75rem;
        color: #666666;
        font-weight: 500;
      }

      .inline-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: #1a3a1d;
        padding: 0.75rem 1rem;
      }

      .inline-title:empty:before {
        content: attr(placeholder);
        color: #9ca3af;
      }

      /* ============================================
         編集画面（iOS風）
      ============================================ */
      .edit-screen {
        position: fixed;
        top: 0;
        right: 0;
        width: 100%;
        height: 100vh;
        height: calc(var(--vh, 1vh) * 100);
        transform: translateX(100%);
        transition: transform 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        display: flex;
        flex-direction: column;
      }

      .edit-screen.show {
        transform: translateX(0);
      }

      .edit-header {
        background-color: white;
        border-bottom: 1px solid #e0e0e0;
        padding: 1rem 2rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        min-height: 70px;
        position: sticky;
        top: 0;
        z-index: 10;
      }

      .back-btn {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        background: none;
        border: none;
        color: #2c5530;
        font-size: 1rem;
        font-weight: 500;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 0.375rem;
        transition: background-color 0.2s ease;
      }

      .back-btn:hover {
        background-color: #f3f4f6;
      }

      .back-btn i {
        width: 20px;
        height: 20px;
      }

      #editTitle {
        font-size: 1.25rem;
        font-weight: 600;
        color: #1f2937;
        margin: 0;
        flex: 1;
        text-align: center;
      }

      .edit-actions {
        display: flex;
        gap: 0.75rem;
      }

      .edit-content {
        flex: 1;
        overflow-y: auto;
        padding: 2rem;
      }

      /* モバイル対応 */
      @media (max-width: 768px) {
        #editTitle {
          font-size: 1.1rem;
        }

        .edit-actions {
          flex-direction: column;
          gap: 0.5rem;
        }

        .edit-content {
          padding: 1rem;
        }

        .back-btn span {
          display: none;
        }
      }
    </style>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  </head>
  <body class="bg-gray-50">
    <div class="flex h-screen relative">
      <!-- サイドバー -->
      <aside
        class="w-60 text-white flex flex-col fixed lg:relative h-full z-40 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 bg-green-gradient"
        id="sidebar"
      >
        <div class="flex-1 flex flex-col">
          <div class="px-6 pt-8 pb-6 border-b border-white/10">
            <div class="flex items-center justify-between">
              <h1 class="text-2xl font-bold">Golf Salon</h1>
              <span
                class="text-xs px-3 py-1 rounded font-semibold text-dark-green bg-gold-gradient"
                >ADMIN</span
              >
            </div>
          </div>

          <nav class="flex-1 py-4">
            <a
              href="admin-users.html"
              class="flex items-center gap-3 px-6 py-3.5 text-white/80 hover:bg-white/10 hover:text-white border-l-4 border-transparent hover:border-yellow-500 transition-all"
            >
              <i data-lucide="users" class="w-5 h-5"></i>
              <span>ユーザー管理</span>
            </a>
            <a
              href="admin-contents.html"
              class="flex items-center gap-3 px-6 py-3.5 bg-white/15 border-l-4 border-yellow-500 text-white"
            >
              <i data-lucide="file-text" class="w-5 h-5"></i>
              <span>コンテンツ管理</span>
            </a>
            <a
              href="admin-emails.html"
              class="flex items-center gap-3 px-6 py-3.5 text-white/80 hover:bg-white/10 hover:text-white border-l-4 border-transparent hover:border-yellow-500 transition-all"
            >
              <i data-lucide="mail" class="w-5 h-5"></i>
              <span>メール管理</span>
            </a>
            <a
              href="admin-settings.html"
              class="flex items-center gap-3 px-6 py-3.5 text-white/80 hover:bg-white/10 hover:text-white border-l-4 border-transparent hover:border-yellow-500 transition-all"
            >
              <i data-lucide="settings" class="w-5 h-5"></i>
              <span>設定</span>
            </a>
          </nav>
        </div>

        <div class="px-6 py-6 border-t border-white/10">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-3">
              <div
                class="w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center"
              >
                <i data-lucide="user" class="w-5 h-5"></i>
              </div>
              <div>
                <div class="text-sm font-medium">管理者</div>
                <div class="text-xs text-gray-400">admin@golfsalon.jp</div>
              </div>
            </div>
            <button
              class="text-white hover:text-gray-300 p-2 rounded-lg hover:bg-white/10"
              title="ログアウト"
            >
              <i data-lucide="log-out" class="w-5 h-5"></i>
            </button>
          </div>
        </div>
      </aside>

      <!-- サイドバーオーバーレイ -->
      <div
        class="fixed inset-0 bg-black/50 z-30 lg:hidden hidden"
        id="sidebarOverlay"
        onclick="toggleSidebar()"
      ></div>

      <!-- メインコンテンツ -->
      <main
        class="flex-1 flex flex-col min-h-0 overflow-x-hidden overflow-hidden"
      >
        <!-- ヘッダー -->
        <header class="admin-header sm:p-3">
          <div class="header-left w-full">
            <button
              class="sidebar-toggle flex w-10 h-10 items-center justify-center bg-transparent border-0 cursor-pointer rounded-md transition-colors hover:bg-gray-100 lg:hidden"
              onclick="toggleSidebar()"
            >
              <i data-lucide="menu" class="w-5 h-5"></i>
            </button>
            <h2 class="page-title m-0 text-lg font-semibold">コンテンツ管理</h2>
          </div>
          <div class="header-right w-full md:w-auto justify-between">
            <div class="search-box relative flex-1" id="searchBox">
              <i data-lucide="search"></i>
              <input
                type="text"
                placeholder="コンテンツを検索..."
                id="searchInput"
                class="w-full"
              />
              <button
                type="button"
                class="search-clear"
                id="searchClear"
                onclick="clearSearch()"
                aria-label="検索をクリア"
              >
                ×
              </button>
            </div>
            <button
              class="btn btn-primary inline-flex items-center justify-center gap-2 px-6 py-3 rounded-md text-sm font-medium cursor-pointer transition-all border border-transparent no-underline whitespace-nowrap bg-primary-green text-white hover:bg-dark-green disabled:bg-gray-400 disabled:cursor-not-allowed"
              onclick="showCreateActionSheet()"
            >
              <i data-lucide="plus" class="w-4 h-4"></i>
              <span class="hidden sm:inline-block">新規作成</span>
            </button>
          </div>
        </header>

        <!-- コンテンツフィルター -->
        <div
          class="content-filters lg:flex-row lg:justify-between lg:items-center lg:gap-8"
        >
          <div class="content-tabs w-full lg:w-auto lg:justify-start">
            <button
              class="content-tab active flex-1 text-center min-w-0 px-4 py-3 text-sm lg:flex-initial lg:px-6 lg:py-3.5 lg:text-base"
              data-type="tweet"
            >
              つぶやき
            </button>
            <button
              class="content-tab flex-1 text-center min-w-0 px-4 py-3 text-sm lg:flex-initial lg:px-6 lg:py-3.5 lg:text-base"
              data-type="image"
            >
              画像
            </button>
            <button
              class="content-tab flex-1 text-center min-w-0 px-4 py-3 text-sm lg:flex-initial lg:px-6 lg:py-3.5 lg:text-base"
              data-type="video"
            >
              動画
            </button>
          </div>

          <div
            class="filter-controls w-full sm:flex-wrap sm:gap-2 lg:w-auto lg:justify-start"
          >

            <select class="filter-select w-full sm:flex-1" id="statusFilter">
              <option value="">ステータス</option>
              <option value="published">公開中</option>
              <option value="draft">下書き</option>
              <option value="scheduled">予約投稿</option>
            </select>
          </div>
        </div>

        <!-- コンテンツリスト -->
        <div class="flex-1 bg-white overflow-hidden">
          <div class="content-slider" id="contentSlider">
            <!-- つぶやきセクション -->
            <div
              class="content-section w-full overflow-x-hidden active"
              data-type="tweet"
            >
              <div
                class="h-full overflow-y-auto p-3 lg:p-4 pb-20 lg:pb-4"
                id="tweetGrid"
              >
                <!-- Tweet content will be loaded dynamically -->
              </div>
            </div>

            <!-- 画像セクション -->
            <div
              class="content-section w-full overflow-x-hidden"
              data-type="image"
            >
              <div
                class="h-full overflow-y-auto p-3 lg:p-4 pb-20 lg:pb-4"
                id="imageGrid"
              >
                <!-- Image content will be loaded dynamically -->
              </div>
            </div>

            <!-- 動画セクション -->
            <div
              class="content-section w-full overflow-x-hidden"
              data-type="video"
            >
              <div
                class="h-full overflow-y-auto p-3 lg:p-4 pb-20 lg:pb-4"
                id="videoGrid"
              >
                <!-- Video content will be loaded dynamically -->
              </div>
            </div>
          </div>
        </div>

        <!-- ページネーション（各タブごと） -->
        <div class="bg-white border-t border-gray-200 px-4 lg:px-6 py-4 md:p-4">
          <!-- つぶやき用ページネーション -->
          <div
            class="pagination flex items-center justify-center space-x-1"
            id="tweetPagination"
            data-type="tweet"
          >
            <button
              class="page-btn px-3 py-2 text-sm md:w-9 md:h-9 md:text-xs rounded-md border border-gray-300 bg-gray-100 text-gray-400 cursor-not-allowed"
              onclick="changePage('tweet', -1)"
              disabled
            >
              <i data-lucide="chevron-left" class="w-4 h-4"></i>
            </button>
            <button
              class="page-btn active px-3 py-2 text-sm rounded-md bg-primary-green text-white"
              onclick="goToPage('tweet', 1)"
            >
              1
            </button>
            <button
              class="page-btn px-3 py-2 text-sm md:w-9 md:h-9 md:text-xs rounded-md border border-gray-300 bg-white text-dark-gray hover:bg-gray-100 transition-colors"
              onclick="goToPage('tweet', 2)"
            >
              2
            </button>
            <button
              class="page-btn px-3 py-2 text-sm md:w-9 md:h-9 md:text-xs rounded-md border border-gray-300 bg-white text-dark-gray hover:bg-gray-100 transition-colors"
              onclick="goToPage('tweet', 3)"
            >
              3
            </button>
            <button
              class="page-btn px-3 py-2 text-sm md:w-9 md:h-9 md:text-xs rounded-md border border-gray-300 bg-white text-dark-gray hover:bg-gray-100 transition-colors"
              onclick="changePage('tweet', 1)"
            >
              <i data-lucide="chevron-right" class="w-4 h-4"></i>
            </button>
          </div>

          <!-- 画像用ページネーション -->
          <div
            class="pagination flex items-center justify-center space-x-1"
            id="imagePagination"
            data-type="image"
            style="display: none"
          >
            <button
              class="page-btn px-3 py-2 text-sm md:w-9 md:h-9 md:text-xs rounded-md border border-gray-300 bg-gray-100 text-gray-400 cursor-not-allowed"
              onclick="changePage('image', -1)"
              disabled
            >
              <i data-lucide="chevron-left" class="w-4 h-4"></i>
            </button>
            <button
              class="page-btn active px-3 py-2 text-sm rounded-md bg-primary-green text-white"
              onclick="goToPage('image', 1)"
            >
              1
            </button>
            <button
              class="page-btn px-3 py-2 text-sm md:w-9 md:h-9 md:text-xs rounded-md border border-gray-300 bg-white text-dark-gray hover:bg-gray-100 transition-colors"
              onclick="goToPage('image', 2)"
            >
              2
            </button>
            <button
              class="page-btn px-3 py-2 text-sm md:w-9 md:h-9 md:text-xs rounded-md border border-gray-300 bg-white text-dark-gray hover:bg-gray-100 transition-colors"
              onclick="changePage('image', 1)"
            >
              <i data-lucide="chevron-right" class="w-4 h-4"></i>
            </button>
          </div>

          <!-- 動画用ページネーション -->
          <div
            class="pagination flex items-center justify-center space-x-1"
            id="videoPagination"
            data-type="video"
            style="display: none"
          >
            <button
              class="page-btn px-3 py-2 text-sm md:w-9 md:h-9 md:text-xs rounded-md border border-gray-300 bg-gray-100 text-gray-400 cursor-not-allowed"
              onclick="changePage('video', -1)"
              disabled
            >
              <i data-lucide="chevron-left" class="w-4 h-4"></i>
            </button>
            <button
              class="page-btn active px-3 py-2 text-sm rounded-md bg-primary-green text-white"
              onclick="goToPage('video', 1)"
            >
              1
            </button>
            <button
              class="page-btn px-3 py-2 text-sm md:w-9 md:h-9 md:text-xs rounded-md border border-gray-300 bg-white text-dark-gray hover:bg-gray-100 transition-colors"
              onclick="goToPage('video', 2)"
            >
              2
            </button>
            <button
              class="page-btn px-3 py-2 text-sm md:w-9 md:h-9 md:text-xs rounded-md border border-gray-300 bg-white text-dark-gray hover:bg-gray-100 transition-colors"
              onclick="goToPage('video', 3)"
            >
              3
            </button>
            <button
              class="page-btn px-3 py-2 text-sm md:w-9 md:h-9 md:text-xs rounded-md border border-gray-300 bg-white text-dark-gray hover:bg-gray-100 transition-colors"
              onclick="goToPage('video', 4)"
            >
              4
            </button>
            <button
              class="page-btn px-3 py-2 text-sm md:w-9 md:h-9 md:text-xs rounded-md border border-gray-300 bg-white text-dark-gray hover:bg-gray-100 transition-colors"
              onclick="changePage('video', 1)"
            >
              <i data-lucide="chevron-right" class="w-4 h-4"></i>
            </button>
          </div>
        </div>
      </main>
    </div>

    <!-- 全画面編集画面 -->
    <div id="editScreen" class="edit-screen bg-off-white z-40 overflow-hidden">
      <div class="edit-header">
        <button class="back-btn" onclick="hideEditScreen()">
          <i data-lucide="chevron-left"></i>
          <span>戻る</span>
        </button>
        <h2 id="editTitle">コンテンツ編集</h2>
        <div class="edit-actions">
          <button
            class="btn btn-primary btn-sm inline-flex items-center justify-center gap-2 px-4 py-2 rounded-md text-xs font-medium cursor-pointer transition-all border border-transparent no-underline whitespace-nowrap bg-primary-green text-white hover:bg-dark-green disabled:bg-gray-400 disabled:cursor-not-allowed"
            id="saveButton"
            onclick="saveContent()"
            disabled
          >
            保存
          </button>
        </div>
      </div>

      <div class="edit-content">
        <!-- 隠しフィールド -->
        <input type="hidden" id="contentType" value="" />
        <input type="hidden" id="contentTitle" value="" />
        <input type="hidden" id="contentDescription" value="" />
        <input type="hidden" id="publishStatus" value="" />
        <input type="hidden" id="scheduleDate" value="" />

        <!-- つぶやき用セクション -->
        <div
          class="content-edit-section"
          id="editSection-tweet"
          data-type="tweet"
        >
          <div class="media-container mb-6">
            <div class="tweet-editor-container overflow-hidden">
              <div
                id="tweetEditor"
                class="tweet-editor"
                contenteditable="true"
                placeholder="つぶやきの内容を入力してください..."
              ></div>
              <div class="tweet-editor-footer">
                <div class="character-count">
                  <span id="characterCount">0</span>/500
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 画像用セクション -->
        <div
          class="content-edit-section"
          id="editSection-image"
          data-type="image"
        >
          <div class="media-container mb-6" id="mediaContainer-image">
            <!-- 初期アップロードエリア -->
            <div
              class="image-upload-placeholder w-full"
              id="imageUploadPlaceholder"
            >
              <div class="upload-area w-full" onclick="selectMultipleImages()">
                <i data-lucide="image-plus"></i>
                <span>画像を選択してください</span>
                <p class="upload-hint">最大5枚まで選択可能</p>
              </div>
            </div>

            <!-- 画像グリッド表示エリア -->
            <div class="image-grid" id="editImageGrid" style="display: none">
              <!-- 動的に画像が追加される -->
            </div>

            <!-- 追加ボタン -->
            <div
              class="image-add-button"
              id="editImageAddButton"
              style="display: none"
              onclick="selectMultipleImages()"
            >
              <i data-lucide="plus"></i>
              <span>追加</span>
            </div>
          </div>

          <div class="content-title-section">
            <div class="title-label">タイトル</div>
            <h2
              class="inline-title"
              id="inlineTitle-image"
              contenteditable="true"
              placeholder="タイトルを入力..."
            ></h2>
          </div>
        </div>

        <!-- 動画用セクション -->
        <div
          class="content-edit-section"
          id="editSection-video"
          data-type="video"
        >
          <div class="media-container mb-6" id="mediaContainer-video">
            <div class="video-thumbnail w-full" id="videoThumbnailContainer">
              <div class="thumbnail-placeholder" id="thumbnailPlaceholder">
                <i data-lucide="image"></i>
                <span>サムネイル未設定</span>
              </div>
              <div class="thumbnail-overlay" onclick="changeThumbnail()">
                <i data-lucide="image-plus"></i>
              </div>
            </div>
          </div>

          <div class="content-title-section">
            <div class="title-label">タイトル</div>
            <h2
              class="inline-title"
              id="inlineTitle-video"
              contenteditable="true"
              placeholder="タイトルを入力..."
            ></h2>
          </div>
        </div>

        <form id="contentForm">
          <!-- 隠されたコンテンツタイプ入力（システム用） -->
          <input type="hidden" id="contentType" value="tweet" />

          <!-- 動画用設定項目リスト -->
          <div
            class="settings-list shadow overflow-hidden"
            id="settingsList-video"
          >
            <div
              class="settings-item"
              onclick="openSettingsDetail('description')"
            >
              <div class="settings-item-content">
                <div class="settings-item-label">説明</div>
                <div class="settings-item-value" id="descriptionValue-video">
                  説明を追加...
                </div>
              </div>
              <i data-lucide="chevron-right" class="settings-item-arrow"></i>
            </div>


            <div class="settings-item" onclick="openSettingsDetail('publish')">
              <div class="settings-item-content">
                <div class="settings-item-label">公開設定</div>
                <div class="settings-item-value" id="publishValue-video">
                  下書き
                </div>
              </div>
              <i data-lucide="chevron-right" class="settings-item-arrow"></i>
            </div>
          </div>

          <!-- つぶやき用設定項目リスト -->
          <div
            class="settings-list shadow overflow-hidden"
            id="tweetSettingsList"
            style="display: none"
          >

            <div class="settings-item" onclick="openSettingsDetail('publish')">
              <div class="settings-item-content">
                <div class="settings-item-label">公開設定</div>
                <div class="settings-item-value" id="tweetPublishValue">
                  下書き
                </div>
              </div>
              <i data-lucide="chevron-right" class="settings-item-arrow"></i>
            </div>
          </div>

          <!-- 画像用設定項目リスト -->
          <div
            class="settings-list shadow overflow-hidden"
            id="settingsList-image"
            style="display: none"
          >
            <div
              class="settings-item"
              onclick="openSettingsDetail('description')"
            >
              <div class="settings-item-content">
                <div class="settings-item-label">説明</div>
                <div class="settings-item-value" id="descriptionValue-image">
                  説明を追加...
                </div>
              </div>
              <i data-lucide="chevron-right" class="settings-item-arrow"></i>
            </div>


            <div class="settings-item" onclick="openSettingsDetail('publish')">
              <div class="settings-item-content">
                <div class="settings-item-label">公開設定</div>
                <div class="settings-item-value" id="publishValue-image">
                  下書き
                </div>
              </div>
              <i data-lucide="chevron-right" class="settings-item-arrow"></i>
            </div>
          </div>

          <!-- 従来のフォーム（非表示） -->
          <div class="traditional-form" style="display: none">
            <div class="form-section">
              <div class="form-group">
                <label class="form-label">タイトル</label>
                <input
                  type="text"
                  id="contentTitle"
                  class="form-input"
                  placeholder="コンテンツのタイトルを入力"
                />
              </div>


              <div class="form-group" id="descriptionGroup">
                <label class="form-label">説明</label>
                <textarea
                  id="contentDescription"
                  class="form-input"
                  rows="3"
                  placeholder="コンテンツの説明を入力"
                ></textarea>
              </div>

              <div class="form-group" id="contentGroup">
                <label class="form-label">内容</label>
                <div class="content-editor">
                  <div class="editor-toolbar">
                    <button
                      type="button"
                      class="toolbar-btn"
                      onclick="formatText('bold')"
                    >
                      <i data-lucide="bold"></i>
                    </button>
                    <button
                      type="button"
                      class="toolbar-btn"
                      onclick="formatText('italic')"
                    >
                      <i data-lucide="italic"></i>
                    </button>
                    <button
                      type="button"
                      class="toolbar-btn"
                      onclick="formatText('underline')"
                    >
                      <i data-lucide="underline"></i>
                    </button>
                    <div class="toolbar-divider"></div>
                    <button
                      type="button"
                      class="toolbar-btn"
                      onclick="insertList('ul')"
                    >
                      <i data-lucide="list"></i>
                    </button>
                    <button
                      type="button"
                      class="toolbar-btn"
                      onclick="insertList('ol')"
                    >
                      <i data-lucide="list-ordered"></i>
                    </button>
                    <div class="toolbar-divider"></div>
                    <button
                      type="button"
                      class="toolbar-btn"
                      onclick="insertLink()"
                    >
                      <i data-lucide="link"></i>
                    </button>
                  </div>
                  <div
                    id="contentEditor"
                    class="editor-content"
                    contenteditable="true"
                    placeholder="内容を入力してください..."
                  ></div>
                </div>
              </div>

              <div class="form-group" id="fileUploadGroup">
                <label class="form-label">ファイル</label>
                <div
                  class="file-upload-area"
                  onclick="document.getElementById('fileInput').click()"
                >
                  <div class="upload-icon">
                    <i data-lucide="upload"></i>
                  </div>
                  <p>ファイルをドラッグ&ドロップまたはクリックして選択</p>
                  <input
                    type="file"
                    id="fileInput"
                    style="display: none"
                    accept="video/*,image/*"
                    onchange="handleFileSelect(event)"
                  />
                </div>
                <div id="filePreview" class="file-preview"></div>
              </div>

              <div class="form-grid">
                <div class="form-group">
                  <label class="form-label">公開設定</label>
                  <select id="publishStatus" class="form-input">
                    <option value="draft">下書き</option>
                    <option value="published">公開</option>
                    <option value="scheduled">予約投稿</option>
                  </select>
                </div>

                <div
                  class="form-group"
                  id="scheduleGroup"
                  style="display: none"
                >
                  <label class="form-label">公開日時</label>
                  <input
                    type="datetime-local"
                    id="scheduleDate"
                    class="form-input"
                  />
                </div>
              </div>
            </div>
          </div>

          <!-- 削除ボタン -->
          <div
            class="delete-button-section w-full"
            id="deleteSection"
            style="display: none"
          >
            <button
              type="button"
              class="btn btn-danger inline-flex items-center justify-center gap-2 px-6 py-3 rounded-md text-sm font-medium cursor-pointer transition-all border border-transparent no-underline whitespace-nowrap bg-red-600 text-white hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed"
              onclick="showDeleteModal()"
            >
              <i data-lucide="trash-2"></i>
              コンテンツを削除
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- 削除確認モーダル -->
    <div id="deleteModal" class="modal z-40">
      <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4">
        <div
          class="flex items-center justify-between p-6 border-b border-gray-200"
        >
          <h3 class="text-lg font-semibold text-gray-900">
            コンテンツ削除の確認
          </h3>
          <button
            class="text-gray-400 hover:text-gray-600 transition-colors"
            onclick="hideDeleteModal()"
          >
            <i data-lucide="x" class="w-5 h-5"></i>
          </button>
        </div>
        <div class="p-6">
          <div class="text-center">
            <i
              data-lucide="alert-triangle"
              class="w-12 h-12 text-red-600 mx-auto mb-4"
            ></i>
            <h4 class="text-lg font-medium text-gray-900 mb-2">
              このコンテンツを完全に削除しますか？
            </h4>
            <p class="text-gray-600">
              この操作は取り消すことができません。削除されたコンテンツは復元できません。
            </p>
          </div>
        </div>
        <div
          class="flex items-center justify-end gap-3 p-6 border-t border-gray-200"
        >
          <button
            class="px-4 py-2 text-dark-gray border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"
            onclick="hideDeleteModal()"
          >
            キャンセル
          </button>
          <button
            class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"
            onclick="confirmDelete()"
          >
            削除する
          </button>
        </div>
      </div>
    </div>

    <!-- 新規作成アクションシート -->
    <div id="createActionSheet" class="action-sheet-overlay z-40">
      <div class="action-sheet w-full" id="actionSheet">
        <div class="action-sheet-content overflow-hidden">
          <div class="action-sheet-header">
            <h3>新規作成</h3>
          </div>
          <div class="action-sheet-buttons">
            <button
              class="action-button w-full"
              onclick="createContent('tweet')"
            >
              <i data-lucide="message-circle"></i>
              <span>つぶやき</span>
            </button>
            <button
              class="action-button w-full"
              onclick="createContent('image')"
            >
              <i data-lucide="image"></i>
              <span>画像</span>
            </button>
            <button
              class="action-button w-full"
              onclick="createContent('video')"
            >
              <i data-lucide="video"></i>
              <span>動画</span>
            </button>
          </div>
        </div>
        <div class="action-sheet-cancel overflow-hidden">
          <button
            class="cancel-button w-full"
            onclick="hideCreateActionSheet()"
          >
            キャンセル
          </button>
        </div>
      </div>
    </div>

    <!-- 設定詳細画面（iOS風スライドイン） -->
    <div
      id="settingsDetailScreen"
      class="settings-detail-screen bg-off-white z-40"
    >
      <div class="settings-detail-header">
        <button class="settings-back-btn" onclick="hideSettingsDetail()">
          <i data-lucide="chevron-left"></i>
          <span>戻る</span>
        </button>
        <h2 id="settingsDetailTitle">設定</h2>
      </div>

      <div class="settings-detail-content" id="settingsDetailContent">
        <!-- 動的にコンテンツが挿入される -->
      </div>
    </div>

    <!-- 画像プレビューモーダル -->
    <div id="imagePreviewModal" class="image-preview-modal z-50">
      <div class="preview-overlay" onclick="closeImagePreview()"></div>
      <div class="preview-container">
        <button class="preview-close" onclick="closeImagePreview()">
          <i data-lucide="x"></i>
        </button>
        <button
          class="preview-nav prev"
          id="prevImageBtn"
          onclick="prevImage()"
        >
          <i data-lucide="chevron-left"></i>
        </button>
        <button
          class="preview-nav next"
          id="nextImageBtn"
          onclick="nextImage()"
        >
          <i data-lucide="chevron-right"></i>
        </button>
        <div class="preview-image-container">
          <img id="previewImage" class="preview-image" />
        </div>
        <div class="preview-counter" id="previewCounter">1 / 1</div>
      </div>
    </div>

    <script src="js/data-loader.js"></script>
    <script src="js/admin-contents.js"></script>
    <script>
      // モバイル環境でのビューポート高さ問題を解決
      function setViewportHeight() {
        const vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty("--vh", `${vh}px`);
      }

      // 初期設定
      setViewportHeight();

      // リサイズ時の再計算（オリエンテーション変更を含む）
      window.addEventListener("resize", setViewportHeight);
      window.addEventListener("orientationchange", () => {
        // オリエンテーション変更後の遅延実行
        setTimeout(setViewportHeight, 100);
      });

      // iOS Safari の場合のスクロール問題対策
      if (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) {
        // スクロール時の追加処理
        let timeout;
        window.addEventListener("scroll", () => {
          clearTimeout(timeout);
          timeout = setTimeout(setViewportHeight, 150);
        });
      }

      // 検索ボックスの管理
      const searchInput = document.getElementById("searchInput");
      const searchBox = document.getElementById("searchBox");
      const searchClear = document.getElementById("searchClear");

      // 検索入力の監視
      searchInput.addEventListener("input", function () {
        if (this.value.trim()) {
          searchBox.classList.add("has-value");
        } else {
          searchBox.classList.remove("has-value");
        }
      });

      // 検索クリア機能
      function clearSearch() {
        searchInput.value = "";
        searchBox.classList.remove("has-value");
        searchInput.focus();
        // 検索結果のリセット（admin-contents.jsの関数を呼び出し）
        if (typeof filterContents === "function") {
          filterContents();
        }
      }

      // Enter キーでの検索実行
      searchInput.addEventListener("keypress", function (e) {
        if (e.key === "Enter") {
          e.preventDefault();
          if (typeof filterContents === "function") {
            filterContents();
          }
        }
      });

      // 初期状態の設定
      if (searchInput.value.trim()) {
        searchBox.classList.add("has-value");
      }

      // サイドバートグル機能
      function toggleSidebar() {
        const sidebar = document.getElementById("sidebar");
        const overlay = document.getElementById("sidebarOverlay");

        sidebar.classList.toggle("-translate-x-full");
        overlay.classList.toggle("hidden");
      }

      // 画面サイズ変更時の処理
      window.addEventListener("resize", function () {
        if (window.innerWidth >= 1024) {
          const sidebar = document.getElementById("sidebar");
          const overlay = document.getElementById("sidebarOverlay");

          sidebar.classList.remove("-translate-x-full");
          overlay.classList.add("hidden");
        }
      });

      lucide.createIcons();

      // データローダーを使用してコンテンツを初期化
      // data-loader.jsを使用したコンテンツ生成

      // グローバル変数（編集機能で使用）
      let sampleData = {};
      let dataInitialized = false;

      // getStatusText関数はadmin-contents.jsに移動済み

      // データローダーからコンテンツデータを読み込む（初期化用）
      async function loadInitialContentData() {
        try {
          if (!window.dataLoader) {
            console.error("データローダーが読み込まれていません");
            return {};
          }

          const contents = await window.dataLoader.loadContentsForAdmin();

          // ID をキーとしたオブジェクトに変換
          const contentMap = {};
          contents.forEach((content) => {
            contentMap[content.id] = {
              ...content,
              type: content.type,
              title: content.title,
              content: content.description || content.title,
              description: content.description,
              status: content.status,
              date: content.publishedAt
                ? new Date(content.publishedAt).toLocaleDateString("ja-JP")
                : new Date().toLocaleDateString("ja-JP"),
              publishedAt: content.publishedAt,
              scheduleDate: content.scheduleDate,
              thumbnail: content.thumbnailUrl,
              thumbnailUrl: content.thumbnailUrl,
              images: content.images || [],
              viewCount: content.viewCount || 0,
            };
          });

          // グローバル変数に保存（編集機能で使用）
          sampleData = contentMap;
          window.sampleData = contentMap;
          dataInitialized = true;

          return contentMap;
        } catch (error) {
          console.error("コンテンツデータの読み込みに失敗しました:", error);
          // フォールバック用の最小限データ
          const fallbackData = {
            1: {
              type: "tweet",
              title: "",
              content: "データの読み込みに失敗しました",
              status: "draft",
              date: new Date().toLocaleDateString("ja-JP"),
            },
          };

          sampleData = fallbackData;
          window.sampleData = fallbackData;
          dataInitialized = true;
          return fallbackData;
        }
      }

      // loadContentData関数はadmin-contents.jsに移動済み

      // editContent のラッパー関数（データ初期化を待機）
      async function handleEditContent(id) {
        // スワイプやドラッグ中の場合は無視
        if (typeof window.hasMoved !== "undefined" && window.hasMoved) {
          return false;
        }
        if (typeof window.isDragging !== "undefined" && window.isDragging) {
          return false;
        }
        if (
          typeof window.clickDisabledUntil !== "undefined" &&
          Date.now() < window.clickDisabledUntil
        ) {
          return false;
        }
        if (
          typeof window.preventNextClick !== "undefined" &&
          window.preventNextClick
        ) {
          return false;
        }

        // データが初期化されるまで待機
        if (!dataInitialized) {
          // 最大5秒待機
          let attempts = 0;
          while (!dataInitialized && attempts < 50) {
            await new Promise((resolve) => setTimeout(resolve, 100));
            attempts++;
          }
        }

        if (!dataInitialized) {
          console.error("Failed to initialize data");
          alert(
            "データの初期化に失敗しました。ページを再読み込みしてください。"
          );
          return;
        }

        // 最終チェック：再度スワイプ状態を確認
        if (typeof window.hasMoved !== "undefined" && window.hasMoved) {
          return false;
        }
        if (typeof window.isDragging !== "undefined" && window.isDragging) {
          return false;
        }
        if (
          typeof window.clickDisabledUntil !== "undefined" &&
          Date.now() < window.clickDisabledUntil
        ) {
          return false;
        }
        if (
          typeof window.preventNextClick !== "undefined" &&
          window.preventNextClick
        ) {
          return false;
        }

        // admin-contents.jsのeditContent関数を呼び出し
        if (window.editContent) {
          await window.editContent(id);
        } else {
          console.error("editContent function not found");
        }
        return true;
      }

      // 初期データ生成（非同期対応）
      async function generateInitialContent() {
        // データローダーからデータを読み込み
        const contentData = await loadInitialContentData();

        // 各セクションにデータを生成
        generateTweetContent(contentData);
        generateImageContent(contentData);
        generateVideoContent(contentData);
      }

      // つぶやきコンテンツ生成
      function generateTweetContent(data) {
        const tweetGrid = document.getElementById("tweetGrid");
        if (!tweetGrid) return;

        const tweetData = Object.entries(data).filter(
          ([id, item]) => item.type === "tweet"
        );

        tweetGrid.innerHTML = tweetData
          .map(
            ([id, item]) => `
          <div class="content-card cursor-pointer" data-type="tweet" data-status="${
              item.status
            }" data-card-id="${id}" onclick="handleEditContent('${id}')">
            <div class="card-content tweet-content">
              <p class="tweet-text">${item.content || item.title}</p>
              <div class="content-meta-row">
                <div class="content-meta flex flex-wrap gap-2">
                  <span class="meta-item">
                    <i data-lucide="calendar"></i>
                    ${item.date}
                  </span>
                </div>
                <div class="content-status">
                  <span class="status-badge rounded-sm ${
                    item.status
                  }">${getStatusText(item.status)}</span>
                </div>
              </div>
            </div>
          </div>
        `
          )
          .join("");
      }

      // 画像コンテンツ生成
      function generateImageContent(data) {
        const imageGrid = document.getElementById("imageGrid");
        if (!imageGrid) return;

        const imageData = Object.entries(data).filter(
          ([id, item]) => item.type === "image"
        );

        imageGrid.innerHTML = imageData
          .map(([id, item]) => {
            const imageCount = item.images ? item.images.length : 1;
            const primaryImage =
              item.images && item.images[0]
                ? item.images[0].dataUrl
                : item.thumbnail || "images/sample1.jpg";

            return `
            <div class="content-card cursor-pointer" data-type="image" data-status="${
              item.status
            }" data-card-id="${id}" data-images='${JSON.stringify(
              item.images || []
            )}' onclick="handleEditContent('${id}')">
              <div class="card-thumbnail relative">
                <img src="${primaryImage}" alt="${item.title}" />
                ${
                  imageCount > 1
                    ? `<div class="image-count-badge">${imageCount}枚</div>`
                    : ""
                }
              </div>
              <div class="card-content">
                <h3 class="content-title">${item.title}</h3>
                <div class="content-meta-row">
                  <div class="content-meta flex flex-wrap gap-2">
                    <span class="meta-item">
                      <i data-lucide="calendar"></i>
                      ${item.date}
                    </span>
                  </div>
                  <div class="content-status">
                    <span class="status-badge rounded-sm ${
                      item.status
                    }">${getStatusText(item.status)}</span>
                  </div>
                </div>
              </div>
            </div>
          `;
          })
          .join("");
      }

      // 動画コンテンツ生成
      function generateVideoContent(data) {
        const videoGrid = document.getElementById("videoGrid");
        if (!videoGrid) return;

        const videoData = Object.entries(data).filter(
          ([id, item]) => item.type === "video"
        );

        videoGrid.innerHTML = videoData
          .map(
            ([id, item]) => `
          <div class="content-card cursor-pointer" data-type="video" data-status="${
              item.status
            }" data-card-id="${id}" onclick="handleEditContent('${id}')">
            <div class="card-thumbnail relative">
              <img src="${item.thumbnail || "images/sample1.jpg"}" alt="${
              item.title
            }" />
              <div class="content-duration">${item.duration || "0:00"}</div>
            </div>
            <div class="card-content">
              <h3 class="content-title">${item.title}</h3>
              <div class="content-meta-row">
                <div class="content-meta flex flex-wrap gap-2">
                  <span class="meta-item">
                    <i data-lucide="calendar"></i>
                    ${item.date}
                  </span>
                </div>
                <div class="content-status">
                  <span class="status-badge rounded-sm ${
                    item.status
                  }">${getStatusText(item.status)}</span>
                </div>
              </div>
            </div>
          </div>
        `
          )
          .join("");
      }

      // 初期化処理（非同期対応）
      async function initializeAdmin() {
        // データローダーのロード確認
        if (!window.dataLoader) {
          console.error("データローダーが読み込まれていません");
          adminInitialized = false;
          return;
        }

        try {
          // 初期コンテンツを生成
          await generateInitialContent();

          // admin-contents.jsの初期化を実行
          setTimeout(() => {
            if (window.initializeAdminJS) {
              window.initializeAdminJS();
            } else {
              console.warn("initializeAdminJS function not available");
            }
          }, 300);

          // Lucideアイコンを初期化
          lucide.createIcons();
        } catch (error) {
          console.error("Failed to initialize admin panel:", error);
        }
      }

      // 管理画面の初期化（非同期実行）
      document.addEventListener("DOMContentLoaded", async function () {
        await initializeAdmin();
      });
    </script>
  </body>
</html>
